<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="Sign.css">
</head>
<body>

    <section> 
            <div id="BorderDiv">
                <div id="inParentDiv">
                        <div id="child1">
                            <a href="Login.html">LOGIN</a>
                          
                          <img src="assets/G3.jpg"><br><br>
                          <small> <i>Join our community that have more than 100000 subscribers and learn new things.</i></small><br>
                          <br><br><br>
                             <form onsubmit="return Next()">
                            <input type="submit" value="SING IN" id="login">
                          </form>
                </div>
                <div id="child2">
                            <form id="form" onsubmit="return Validate()">
                                <h3>create account </h3>
                                <br><br><br>
                                <input type="text" id="name" placeholder="Name" required>
                                <br>
                                <input type="text" id="email" placeholder="Email" required>
                                <br>
                                 <input type="password" id="key" placeholder="Password">
                                 <br><br><br>
                                  <input type="submit" value="LOGIN" id="login">
                                  <br><br><br>
                                <div id="Bottomfoot">
                                   <small> Don't have a account ?</small>
                                   <a href="Login.html"> LOG IN</a>
                                </div>
                            </form>
                    </div>
             </div>
    </section>
    <script>
    function Validate() {
        let name = document.getElementById("name").value.trim();
        let mail = document.getElementById("email").value.trim();
        let Key = document.getElementById("key").value.trim();

        const reg = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        const regName = /^[a-zA-Z\s]+$/;

        if (!(name.length > 5)) {
            alert("Name should be at least 6 characters");
            return false;
        }

        if (!regName.test(name)) {
            alert("Only characters A-Z, a-z and spaces allowed in name");
            return false;
        }

        if (!(mail.endsWith("@gmail.com") || mail.endsWith("@yahoo.com") || mail.endsWith("@outlook.com"))) {
            alert("Invalid mail! Please enter a valid email address");
            return false;
        }

        if (!reg.test(mail)) {
            alert("Invalid mail format");
            return false;
        }

        if (!(Key.length > 5)) {
            alert("Password must be at least 6 characters");
            return false;
        }

        // Save to localStorage
        localStorage.setItem("userName", name);
        localStorage.setItem("Email", mail);
        localStorage.setItem("Password", Key);

        alert("Thank you for being our community member.");
        window.location.href = `Hello.html?mail=${encodeURIComponent(mail)}&Key=${encodeURIComponent(Key)}`;

        return true;
    }
      function Next(){
        window.location.href="Sign.html";
        return false;
    }
</script>

</body>
</html>